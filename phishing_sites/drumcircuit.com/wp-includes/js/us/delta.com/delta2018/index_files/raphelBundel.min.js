!function(){function N(){if(N.is(arguments[0],g)){for(var t=arguments[0],e=Xt[y](N,t.splice(0,3+N.is(t[0],M))),r=e.set(),i=0,s=t[O];i<s;i++){var n=t[i]||{};a[S](n.type)&&r[z](e[n.type]().attr(n))}return r}return Xt[y](N,arguments)}N.version="1.5.2";var i,T=/[, ]+/,a={circle:1,rect:1,path:1,ellipse:1,text:1,image:1},s=/\{(\d+)\}/g,h="prototype",S="hasOwnProperty",B=document,n=window,t={was:Object[h][S].call(n,"Raphael"),is:n.Raphael},l=function(){this.customAttributes={}},C="appendChild",y="apply",Y="concat",c="createTouch"in B,L="",j=" ",G=String,D="split",e="click dblclick mousedown mousemove mouseout mouseover mouseup touchstart touchmove touchend orientationchange touchcancel gesturestart gesturechange gestureend"[D](j),f={mousedown:"touchstart",mousemove:"touchmove",mouseup:"touchend"},X="join",O="length",A=G[h].toLowerCase,I=Math,w=I.max,_=I.min,$=I.abs,k=I.pow,U=I.PI,M="number",u="string",g="array",x="toString",E="fill",r=Object[h][x],z="push",R=/^url\(['"]?([^\)]+?)['"]?\)$/i,p=/^\s*((#[a-f\d]{6})|(#[a-f\d]{3})|rgba?\(\s*([\d\.]+%?\s*,\s*[\d\.]+%?\s*,\s*[\d\.]+(?:%?\s*,\s*[\d\.]+)?)%?\s*\)|hsba?\(\s*([\d\.]+(?:deg|\xb0|%)?\s*,\s*[\d\.]+%?\s*,\s*[\d\.]+(?:%?\s*,\s*[\d\.]+)?)%?\s*\)|hsla?\(\s*([\d\.]+(?:deg|\xb0|%)?\s*,\s*[\d\.]+%?\s*,\s*[\d\.]+(?:%?\s*,\s*[\d\.]+)?)%?\s*\))\s*$/i,o={NaN:1,Infinity:1,"-Infinity":1},q=/^(?:cubic-)?bezier\(([^,]+),([^,]+),([^,]+),([^\)]+)\)/,V=I.round,H="setAttribute",W=parseFloat,F=parseInt,P=" progid:DXImageTransform.Microsoft",Z=G[h].toUpperCase,Q={blur:0,"clip-rect":"0 0 1e9 1e9",cursor:"default",cx:0,cy:0,fill:"#fff","fill-opacity":1,font:'10px "Arial"',"font-family":'"Arial"',"font-size":"10","font-style":"normal","font-weight":400,gradient:0,height:0,href:"http://raphaeljs.com/",opacity:1,path:"M0,0",r:0,rotation:0,rx:0,ry:0,scale:"1 1",src:"",stroke:"#000","stroke-dasharray":"","stroke-linecap":"butt","stroke-linejoin":"butt","stroke-miterlimit":0,"stroke-opacity":1,"stroke-width":1,target:"_blank","text-anchor":"middle",title:"Raphael",translation:"0 0",width:0,x:0,y:0},J={along:"along",blur:M,"clip-rect":"csv",cx:M,cy:M,fill:"colour","fill-opacity":M,"font-size":M,height:M,opacity:M,path:"path",r:M,rotation:"csv",rx:M,ry:M,scale:"csv",stroke:"colour","stroke-opacity":M,"stroke-width":M,translation:"csv",width:M,x:M,y:M},K="replace",tt=/^(from|to|\d+%?)$/,d=/\s*,\s*/,v={hs:1,rg:1},m=/,?([achlmqrstvxz]),?/gi,b=/([achlmqstvz])[\s,]*((-?\d*\.?\d*(?:e[-+]?\d+)?\s*,?\s*)+)/gi,et=/(-?\d*\.?\d*(?:e[-+]?\d+)?)\s*,?\s*/gi,rt=/^r(?:\(([^,]+?)\s*,\s*([^\)]+?)\))?/,it=function(t,e){return t.key-e.key};if("VML"==(N.type=n.SVGAngle||B.implementation.hasFeature("http://www.w3.org/TR/SVG11/feature#BasicStructure","1.1")?"SVG":"VML")){var st,nt=B.createElement("div");if(nt.innerHTML='<v:shape adj="1"/>',(st=nt.firstChild).style.behavior="url(#default#VML)",!st||"object"!=typeof st.adj)return N.type=null;nt=null}function at(){for(var t=[],e=0;e<32;e++)t[e]=(~~(16*I.random()))[x](16);return t[12]=4,t[16]=(3&t[16]|8)[x](16),"r-"+t[X]("")}N.svg=!(N.vml="VML"==N.type),i=l[h]=N[h],N._id=0,N._oid=0,N.fn={},N.is=function(t,e){return"finite"==(e=A.call(e))?!o[S](+t):"null"==e&&null===t||e==typeof t||"object"==e&&t===Object(t)||"array"==e&&Array.isArray&&Array.isArray(t)||r.call(t).slice(8,-1).toLowerCase()==e},N.angle=function(t,e,r,i,s,n){if(null==s){var a=t-r,o=e-i;return a||o?(180*(a<0)+180*I.atan(-o/-a)/U+360)%360:0}return N.angle(t,e,s,n)-N.angle(r,i,s,n)},N.rad=function(t){return t%360*U/180},N.deg=function(t){return 180*t/U%360},N.snapTo=function(t,e,r){if(r=N.is(r,"finite")?r:10,N.is(t,g)){for(var i=t.length;i--;)if($(t[i]-e)<=r)return t[i]}else{var s=e%(t=+t);if(s<r)return e-s;if(t-r<s)return e-s+t}return e},N.setWindow=function(t){B=(n=t).document};var ot=function(t){if(N.vml){var r,i=/^\s+|\s+$/g;try{var e=new ActiveXObject("htmlfile");e.write("<body>"),e.close(),r=e.body}catch(t){r=createPopup().document.body}var s=r.createTextRange();ot=ft(function(t){try{r.style.color=G(t)[K](i,L);var e=s.queryCommandValue("ForeColor");return"#"+("000000"+(e=(255&e)<<16|65280&e|(16711680&e)>>>16)[x](16)).slice(-6)}catch(t){return"none"}})}else{var n=B.createElement("i");n.title="Raphaël Colour Picker",n.style.display="none",B.body[C](n),ot=ft(function(t){return n.style.color=t,B.defaultView.getComputedStyle(n,L).getPropertyValue("color")})}return ot(t)},ht=function(){return"hsb("+[this.h,this.s,this.b]+")"},lt=function(){return"hsl("+[this.h,this.s,this.l]+")"},ct=function(){return this.hex};function ft(n,a,o){return function t(){var e=Array[h].slice.call(arguments,0),r=e[X]("►"),i=t.cache=t.cache||{},s=t.count=t.count||[];return i[S](r)||(1e3<=s[O]&&delete i[s.shift()],s[z](r),i[r]=n[y](a,e)),o?o(i[r]):i[r]}}N.hsb2rgb=function(t,e,r,i){return N.is(t,"object")&&"h"in t&&"s"in t&&"b"in t&&(r=t.b,e=t.s,i=(t=t.h).o),N.hsl2rgb(t,e,r/2,i)},N.hsl2rgb=function(t,e,r,i){N.is(t,"object")&&"h"in t&&"s"in t&&"l"in t&&(r=t.l,e=t.s,t=t.h),(1<t||1<e||1<r)&&(t/=360,e/=100,r/=100);var s,n,a,o={},h=["r","g","b"];if(e){n=2*r-(s=r<.5?r*(1+e):r+e-r*e);for(var l=0;l<3;l++)(a=t+1/3*-(l-1))<0&&a++,1<a&&a--,o[h[l]]=6*a<1?n+6*(s-n)*a:2*a<1?s:3*a<2?n+(s-n)*(2/3-a)*6:n}else o={r:r,g:r,b:r};return o.r*=255,o.g*=255,o.b*=255,o.hex="#"+(16777216|o.b|o.g<<8|o.r<<16).toString(16).slice(1),N.is(i,"finite")&&(o.opacity=i),o.toString=ct,o},N.rgb2hsb=function(t,e,r){if(null==e&&N.is(t,"object")&&"r"in t&&"g"in t&&"b"in t&&(r=t.b,e=t.g,t=t.r),null==e&&N.is(t,u)){var i=N.getRGB(t);t=i.r,e=i.g,r=i.b}(1<t||1<e||1<r)&&(t/=255,e/=255,r/=255);var s,n=w(t,e,r),a=_(t,e,r);if(a==n)return{h:0,s:0,b:n,toString:ht};var o=n-a;return s=t==n?(e-r)/o:e==n?2+(r-t)/o:4+(t-e)/o,(s/=6)<0&&s++,1<s&&s--,{h:s,s:o/n,b:n,toString:ht}},N.rgb2hsl=function(t,e,r){if(null==e&&N.is(t,"object")&&"r"in t&&"g"in t&&"b"in t&&(r=t.b,e=t.g,t=t.r),null==e&&N.is(t,u)){var i=N.getRGB(t);t=i.r,e=i.g,r=i.b}(1<t||1<e||1<r)&&(t/=255,e/=255,r/=255);var s,n,a=w(t,e,r),o=_(t,e,r),h=(a+o)/2;if(o==a)n={h:0,s:0,l:h};else{var l=a-o;s=t==a?(e-r)/l:e==a?2+(r-t)/l:4+(t-e)/l,(s/=6)<0&&s++,1<s&&s--,n={h:s,s:h<.5?l/(a+o):l/(2-a-o),l:h}}return n.toString=lt,n},N._path2string=function(){return this.join(",")[K](m,"$1")},N.getRGB=ft(function(t){if(!t||(t=G(t)).indexOf("-")+1)return{r:-1,g:-1,b:-1,hex:"none",error:1};if("none"==t)return{r:-1,g:-1,b:-1,hex:"none"};!v[S](t.toLowerCase().substring(0,2))&&"#"!=t.charAt()&&(t=ot(t));var e,r,i,s,n,a,o=t.match(p);return o?(o[2]&&(i=F(o[2].substring(5),16),r=F(o[2].substring(3,5),16),e=F(o[2].substring(1,3),16)),o[3]&&(i=F((n=o[3].charAt(3))+n,16),r=F((n=o[3].charAt(2))+n,16),e=F((n=o[3].charAt(1))+n,16)),o[4]&&(a=o[4][D](d),e=W(a[0]),"%"==a[0].slice(-1)&&(e*=2.55),r=W(a[1]),"%"==a[1].slice(-1)&&(r*=2.55),i=W(a[2]),"%"==a[2].slice(-1)&&(i*=2.55),"rgba"==o[1].toLowerCase().slice(0,4)&&(s=W(a[3])),a[3]&&"%"==a[3].slice(-1)&&(s/=100)),o[5]?(a=o[5][D](d),e=W(a[0]),"%"==a[0].slice(-1)&&(e*=2.55),r=W(a[1]),"%"==a[1].slice(-1)&&(r*=2.55),i=W(a[2]),"%"==a[2].slice(-1)&&(i*=2.55),("deg"==a[0].slice(-3)||"°"==a[0].slice(-1))&&(e/=360),"hsba"==o[1].toLowerCase().slice(0,4)&&(s=W(a[3])),a[3]&&"%"==a[3].slice(-1)&&(s/=100),N.hsb2rgb(e,r,i,s)):o[6]?(a=o[6][D](d),e=W(a[0]),"%"==a[0].slice(-1)&&(e*=2.55),r=W(a[1]),"%"==a[1].slice(-1)&&(r*=2.55),i=W(a[2]),"%"==a[2].slice(-1)&&(i*=2.55),("deg"==a[0].slice(-3)||"°"==a[0].slice(-1))&&(e/=360),"hsla"==o[1].toLowerCase().slice(0,4)&&(s=W(a[3])),a[3]&&"%"==a[3].slice(-1)&&(s/=100),N.hsl2rgb(e,r,i,s)):((o={r:e,g:r,b:i}).hex="#"+(16777216|i|r<<8|e<<16).toString(16).slice(1),N.is(s,"finite")&&(o.opacity=s),o)):{r:-1,g:-1,b:-1,hex:"none",error:1}},N),(N.getColor=function(t){var e=this.getColor.start=this.getColor.start||{h:0,s:1,b:t||.75},r=this.hsb2rgb(e.h,e.s,e.b);return e.h+=.075,1<e.h&&(e.h=0,e.s-=.2,e.s<=0&&(this.getColor.start={h:0,s:1,b:e.b})),r.hex}).reset=function(){delete this.start},N.parsePathString=ft(function(t){if(!t)return null;var n={a:7,c:6,h:1,l:2,m:2,q:4,s:4,t:2,v:1,z:0},a=[];return N.is(t,g)&&N.is(t[0],g)&&(a=pt(t)),a[O]||G(t)[K](b,function(t,e,r){var i=[],s=A.call(e);for(r[K](et,function(t,e){e&&i[z](+e)}),"m"==s&&2<i[O]&&(a[z]([e][Y](i.splice(0,2))),s="l",e="m"==e?"l":"L");i[O]>=n[s]&&(a[z]([e][Y](i.splice(0,n[s]))),n[s]););}),a[x]=N._path2string,a}),N.findDotsAtSegment=function(t,e,r,i,s,n,a,o,h){var l=1-h,c=k(l,3)*t+3*k(l,2)*h*r+3*l*h*h*s+k(h,3)*a,f=k(l,3)*e+3*k(l,2)*h*i+3*l*h*h*n+k(h,3)*o,u=t+2*h*(r-t)+h*h*(s-2*r+t),p=e+2*h*(i-e)+h*h*(n-2*i+e),d=r+2*h*(s-r)+h*h*(a-2*s+r),v=i+2*h*(n-i)+h*h*(o-2*n+i),y=(1-h)*t+h*r,g=(1-h)*e+h*i,x=(1-h)*s+h*a,m=(1-h)*n+h*o,b=90-180*I.atan((u-d)/(p-v))/U;return(d<u||p<v)&&(b+=180),{x:c,y:f,m:{x:u,y:p},n:{x:d,y:v},start:{x:y,y:g},end:{x:x,y:m},alpha:b}};var ut=ft(function(t){if(!t)return{x:0,y:0,width:0,height:0};for(var e,r=0,i=0,s=[],n=[],a=0,o=(t=kt(t))[O];a<o;a++)if("M"==(e=t[a])[0])r=e[1],i=e[2],s[z](r),n[z](i);else{var h=bt(r,i,e[1],e[2],e[3],e[4],e[5],e[6]);s=s[Y](h.min.x,h.max.x),n=n[Y](h.min.y,h.max.y),r=e[5],i=e[6]}var l=_[y](0,s),c=_[y](0,n);return{x:l,y:c,width:w[y](0,s)-l,height:w[y](0,n)-c}}),pt=function(t){var e=[];N.is(t,g)&&N.is(t&&t[0],g)||(t=N.parsePathString(t));for(var r=0,i=t[O];r<i;r++){e[r]=[];for(var s=0,n=t[r][O];s<n;s++)e[r][s]=t[r][s]}return e[x]=N._path2string,e},dt=ft(function(t){N.is(t,g)&&N.is(t&&t[0],g)||(t=N.parsePathString(t));var e=[],r=0,i=0,s=0,n=0,a=0;"M"==t[0][0]&&(s=r=t[0][1],n=i=t[0][2],a++,e[z](["M",r,i]));for(var o=a,h=t[O];o<h;o++){var l=e[o]=[],c=t[o];if(c[0]!=A.call(c[0]))switch(l[0]=A.call(c[0]),l[0]){case"a":l[1]=c[1],l[2]=c[2],l[3]=c[3],l[4]=c[4],l[5]=c[5],l[6]=+(c[6]-r).toFixed(3),l[7]=+(c[7]-i).toFixed(3);break;case"v":l[1]=+(c[1]-i).toFixed(3);break;case"m":s=c[1],n=c[2];default:for(var f=1,u=c[O];f<u;f++)l[f]=+(c[f]-(f%2?r:i)).toFixed(3)}else{l=e[o]=[],"m"==c[0]&&(s=c[1]+r,n=c[2]+i);for(var p=0,d=c[O];p<d;p++)e[o][p]=c[p]}var v=e[o][O];switch(e[o][0]){case"z":r=s,i=n;break;case"h":r+=+e[o][v-1];break;case"v":i+=+e[o][v-1];break;default:r+=+e[o][v-2],i+=+e[o][v-1]}}return e[x]=N._path2string,e},0,pt),vt=ft(function(t){N.is(t,g)&&N.is(t&&t[0],g)||(t=N.parsePathString(t));var e=[],r=0,i=0,s=0,n=0,a=0;"M"==t[0][0]&&(s=r=+t[0][1],n=i=+t[0][2],a++,e[0]=["M",r,i]);for(var o=a,h=t[O];o<h;o++){var l=e[o]=[],c=t[o];if(c[0]!=Z.call(c[0]))switch(l[0]=Z.call(c[0]),l[0]){case"A":l[1]=c[1],l[2]=c[2],l[3]=c[3],l[4]=c[4],l[5]=c[5],l[6]=+(c[6]+r),l[7]=+(c[7]+i);break;case"V":l[1]=+c[1]+i;break;case"H":l[1]=+c[1]+r;break;case"M":s=+c[1]+r,n=+c[2]+i;default:for(var f=1,u=c[O];f<u;f++)l[f]=+c[f]+(f%2?r:i)}else for(var p=0,d=c[O];p<d;p++)e[o][p]=c[p];switch(l[0]){case"Z":r=s,i=n;break;case"H":r=l[1];break;case"V":i=l[1];break;case"M":s=e[o][e[o][O]-2],n=e[o][e[o][O]-1];default:r=e[o][e[o][O]-2],i=e[o][e[o][O]-1]}}return e[x]=N._path2string,e},null,pt),yt=function(t,e,r,i){return[t,e,r,i,r,i]},gt=function(t,e,r,i,s,n){return[1/3*t+2/3*r,1/3*e+2/3*i,1/3*s+2/3*r,1/3*n+2/3*i,s,n]},xt=function(t,e,r,i,s,n,a,o,h,l){var c,f=120*U/180,u=U/180*(+s||0),p=[],d=ft(function(t,e,r){return{x:t*I.cos(r)-e*I.sin(r),y:t*I.sin(r)+e*I.cos(r)}});if(l)_=l[0],B=l[1],k=l[2],w=l[3];else{t=(c=d(t,e,-u)).x,e=c.y,o=(c=d(o,h,-u)).x,h=c.y;I.cos(U/180*s),I.sin(U/180*s);var v=(t-o)/2,y=(e-h)/2,g=v*v/(r*r)+y*y/(i*i);1<g&&(r*=g=I.sqrt(g),i*=g);var x=r*r,m=i*i,b=(n==a?-1:1)*I.sqrt($((x*m-x*y*y-m*v*v)/(x*y*y+m*v*v))),k=b*r*y/i+(t+o)/2,w=b*-i*v/r+(e+h)/2,_=I.asin(((e-w)/i).toFixed(9)),B=I.asin(((h-w)/i).toFixed(9));(_=t<k?U-_:_)<0&&(_=2*U+_),(B=o<k?U-B:B)<0&&(B=2*U+B),a&&B<_&&(_-=2*U),!a&&_<B&&(B-=2*U)}var C=B-_;if($(C)>f){var A=B,N=o,T=h;B=_+f*(a&&_<B?1:-1),o=k+r*I.cos(B),h=w+i*I.sin(B),p=xt(o,h,r,i,s,0,a,N,T,[B,A,k,w])}C=B-_;var S=I.cos(_),G=I.sin(_),M=I.cos(B),E=I.sin(B),z=I.tan(C/4),R=4/3*r*z,L=4/3*i*z,j=[t,e],q=[t+R*G,e-L*S],V=[o+R*E,h-L*M],H=[o,h];if(q[0]=2*j[0]-q[0],q[1]=2*j[1]-q[1],l)return[q,V,H][Y](p);for(var W=[],F=0,P=(p=[q,V,H][Y](p)[X]()[D](","))[O];F<P;F++)W[F]=F%2?d(p[F-1],p[F],u).y:d(p[F],p[F+1],u).x;return W},mt=function(t,e,r,i,s,n,a,o,h){var l=1-h;return{x:k(l,3)*t+3*k(l,2)*h*r+3*l*h*h*s+k(h,3)*a,y:k(l,3)*e+3*k(l,2)*h*i+3*l*h*h*n+k(h,3)*o}},bt=ft(function(t,e,r,i,s,n,a,o){var h,l=s-2*r+t-(a-2*s+r),c=2*(r-t)-2*(s-r),f=t-r,u=(-c+I.sqrt(c*c-4*l*f))/2/l,p=(-c-I.sqrt(c*c-4*l*f))/2/l,d=[e,o],v=[t,a];return"1e12"<$(u)&&(u=.5),"1e12"<$(p)&&(p=.5),0<u&&u<1&&(h=mt(t,e,r,i,s,n,a,o,u),v[z](h.x),d[z](h.y)),0<p&&p<1&&(h=mt(t,e,r,i,s,n,a,o,p),v[z](h.x),d[z](h.y)),l=n-2*i+e-(o-2*n+i),f=e-i,u=(-(c=2*(i-e)-2*(n-i))+I.sqrt(c*c-4*l*f))/2/l,p=(-c-I.sqrt(c*c-4*l*f))/2/l,"1e12"<$(u)&&(u=.5),"1e12"<$(p)&&(p=.5),0<u&&u<1&&(h=mt(t,e,r,i,s,n,a,o,u),v[z](h.x),d[z](h.y)),0<p&&p<1&&(h=mt(t,e,r,i,s,n,a,o,p),v[z](h.x),d[z](h.y)),{min:{x:_[y](0,v),y:_[y](0,d)},max:{x:w[y](0,v),y:w[y](0,d)}}}),kt=ft(function(t,e){for(var n=vt(t),a=e&&vt(e),r={x:0,y:0,bx:0,by:0,X:0,Y:0,qx:null,qy:null},i={x:0,y:0,bx:0,by:0,X:0,Y:0,qx:null,qy:null},s=function(t,e){if(!t)return["C",e.x,e.y,e.x,e.y,e.x,e.y];switch(!(t[0]in{T:1,Q:1})&&(e.qx=e.qy=null),t[0]){case"M":e.X=t[1],e.Y=t[2];break;case"A":t=["C"][Y](xt[y](0,[e.x,e.y][Y](t.slice(1))));break;case"S":t=["C",e.x+(e.x-(e.bx||e.x)),e.y+(e.y-(e.by||e.y))][Y](t.slice(1));break;case"T":e.qx=e.x+(e.x-(e.qx||e.x)),e.qy=e.y+(e.y-(e.qy||e.y)),t=["C"][Y](gt(e.x,e.y,e.qx,e.qy,t[1],t[2]));break;case"Q":e.qx=t[1],e.qy=t[2],t=["C"][Y](gt(e.x,e.y,t[1],t[2],t[3],t[4]));break;case"L":t=["C"][Y](yt(e.x,e.y,t[1],t[2]));break;case"H":t=["C"][Y](yt(e.x,e.y,t[1],e.y));break;case"V":t=["C"][Y](yt(e.x,e.y,e.x,t[1]));break;case"Z":t=["C"][Y](yt(e.x,e.y,e.X,e.Y))}return t},o=function(t,e){if(7<t[e][O]){t[e].shift();for(var r=t[e];r[O];)t.splice(e++,0,["C"][Y](r.splice(0,6)));t.splice(e,1),c=w(n[O],a&&a[O]||0)}},h=function(t,e,r,i,s){t&&e&&"M"==t[s][0]&&"M"!=e[s][0]&&(e.splice(s,0,["M",i.x,i.y]),r.bx=0,r.by=0,r.x=t[s][1],r.y=t[s][2],c=w(n[O],a&&a[O]||0))},l=0,c=w(n[O],a&&a[O]||0);l<c;l++){n[l]=s(n[l],r),o(n,l),a&&(a[l]=s(a[l],i)),a&&o(a,l),h(n,a,r,i,l),h(a,n,i,r,l);var f=n[l],u=a&&a[l],p=f[O],d=a&&u[O];r.x=f[p-2],r.y=f[p-1],r.bx=W(f[p-4])||r.x,r.by=W(f[p-3])||r.y,i.bx=a&&(W(u[d-4])||i.x),i.by=a&&(W(u[d-3])||i.y),i.x=a&&u[d-2],i.y=a&&u[d-1]}return a?[n,a]:n},null,pt),wt=ft(function(t){for(var e=[],r=0,i=t[O];r<i;r++){var s={},n=t[r].match(/^([^:]*):?([\d\.]*)/);if(s.color=N.getRGB(n[1]),s.color.error)return null;s.color=s.color.hex,n[2]&&(s.offset=n[2]+"%"),e[z](s)}for(r=1,i=e[O]-1;r<i;r++)if(!e[r].offset){for(var a=W(e[r-1].offset||0),o=0,h=r+1;h<i;h++)if(e[h].offset){o=e[h].offset;break}o||(o=100,h=i);for(var l=((o=W(o))-a)/(h-r+1);r<h;r++)a+=l,e[r].offset=a+"%"}return e}),_t=function(t,e,r,i){var s;return N.is(t,u)||N.is(t,"object")?(s=N.is(t,u)?B.getElementById(t):t).tagName?null==e?{container:s,width:s.style.pixelWidth||s.offsetWidth,height:s.style.pixelHeight||s.offsetHeight}:{container:s,width:e,height:r}:void 0:{container:1,x:t,y:e,width:r,height:i}},Bt=function(e,t){var r=this;for(var i in t)if(t[S](i)&&!(i in e))switch(typeof t[i]){case"function":!function(t){e[i]=e===r?t:function(){return t[y](r,arguments)}}(t[i]);break;case"object":e[i]=e[i]||{},Bt.call(this,e[i],t[i]);break;default:e[i]=t[i]}},Ct=function(t,e){t==e.top&&(e.top=t.prev),t==e.bottom&&(e.bottom=t.next),t.next&&(t.next.prev=t.prev),t.prev&&(t.prev.next=t.next)},At=function(t,e){e.top!==t&&(Ct(t,e),t.next=null,t.prev=e.top,e.top.next=t,e.top=t)},Nt=function(t,e){e.bottom!==t&&(Ct(t,e),t.next=e.bottom,t.prev=null,e.bottom.prev=t,e.bottom=t)},Tt=function(t,e,r){Ct(t,r),e==r.top&&(r.top=t),e.next&&(e.next.prev=t),t.next=e.next,(t.prev=e).next=t},St=function(t,e,r){Ct(t,r),e==r.bottom&&(r.bottom=t),e.prev&&(e.prev.next=t),t.prev=e.prev,(e.prev=t).next=e},Gt=function(t){return function(){throw new Error("Raphaël: you are calling to method “"+t+"” of removed object")}};if(N.pathToRelative=dt,N.svg){i.svgns="http://www.w3.org/2000/svg",i.xlink="http://www.w3.org/1999/xlink",V=function(t){return+t+.5*(~~t===t)};var Mt=function(t,e){if(!e)return(t=B.createElementNS(i.svgns,t)).style.webkitTapHighlightColor="rgba(0,0,0,0)",t;for(var r in e)e[S](r)&&t[H](r,G(e[r]))};N[x]=function(){return"Your browser supports SVG.\nYou are running Raphaël "+this.version};var Et=function(t,e){var r=Mt("path");e.canvas&&e.canvas[C](r);var i=new qt(r,e);return i.type="path",Lt(i,{fill:"none",stroke:"#000",path:t}),i},zt=function(t,e,r){var s="linear",n=.5,a=.5,i=t.style;if(e=(e=G(e)[K](rt,function(t,e,r){if(s="radial",e&&r){n=W(e);var i=2*(.5<(a=W(r)))-1;.25<k(n-.5,2)+k(a-.5,2)&&(a=I.sqrt(.25-k(n-.5,2))*i+.5)&&.5!=a&&(a=a.toFixed(5)-1e-5*i)}return L}))[D](/\s*\-\s*/),"linear"==s){var o=e.shift();if(o=-W(o),isNaN(o))return null;var h=[0,0,I.cos(o*U/180),I.sin(o*U/180)],l=1/(w($(h[2]),$(h[3]))||1);h[2]*=l,h[3]*=l,h[2]<0&&(h[0]=-h[2],h[2]=0),h[3]<0&&(h[1]=-h[3],h[3]=0)}var c=wt(e);if(!c)return null;var f=t.getAttribute(E);(f=f.match(/^url\(#(.*)\)$/))&&r.defs.removeChild(B.getElementById(f[1]));var u=Mt(s+"Gradient");u.id=at(),Mt(u,"radial"==s?{fx:n,fy:a}:{x1:h[0],y1:h[1],x2:h[2],y2:h[3]}),r.defs[C](u);for(var p=0,d=c[O];p<d;p++){var v=Mt("stop");Mt(v,{offset:c[p].offset?c[p].offset:p?"100%":"0%","stop-color":c[p].color||"#fff"}),u[C](v)}return Mt(t,{fill:"url(#"+u.id+")",opacity:1,"fill-opacity":1}),i.fill=L,i.opacity=1,i.fillOpacity=1},Rt=function(t){var e=t.getBBox();Mt(t.pattern,{patternTransform:N.format("translate({0},{1})",e.x,e.y)})},Lt=function(t,a){var o={"":[0],none:[0],"-":[3,1],".":[1,1],"-.":[3,1,1,1],"-..":[3,1,1,1,1,1],". ":[1,3],"- ":[4,3],"--":[8,3],"- .":[4,3,1,3],"--.":[8,3,1,3],"--..":[8,3,1,3,1,3]},h=t.node,e=t.attrs,r=t.rotate(),i=function(t,e){if(e=o[A.call(e)]){for(var r=t.attrs["stroke-width"]||"1",i={round:r,square:r,butt:0}[t.attrs["stroke-linecap"]||a["stroke-linecap"]]||0,s=[],n=e[O];n--;)s[n]=e[n]*r+(n%2?1:-1)*i;Mt(h,{"stroke-dasharray":s[X](",")})}};a[S]("rotation")&&(r=a.rotation);var s=G(r)[D](T);for(var n in s.length-1?(s[1]=+s[1],s[2]=+s[2]):s=null,W(r)&&t.rotate(0,!0),a)if(a[S](n)){if(!Q[S](n))continue;var l=a[n];switch(e[n]=l,n){case"blur":t.blur(l);break;case"rotation":t.rotate(l,!0);break;case"href":case"title":case"target":var c=h.parentNode;if("a"!=A.call(c.tagName)){var f=Mt("a");c.insertBefore(f,h),f[C](h),c=f}"target"==n&&"blank"==l?c.setAttributeNS(t.paper.xlink,"show","new"):c.setAttributeNS(t.paper.xlink,n,l);break;case"cursor":h.style.cursor=l;break;case"clip-rect":var u=G(l)[D](T);if(4==u[O]){t.clip&&t.clip.parentNode.parentNode.removeChild(t.clip.parentNode);var p=Mt("clipPath"),d=Mt("rect");p.id=at(),Mt(d,{x:u[0],y:u[1],width:u[2],height:u[3]}),p[C](d),t.paper.defs[C](p),Mt(h,{"clip-path":"url(#"+p.id+")"}),t.clip=d}if(!l){var v=B.getElementById(h.getAttribute("clip-path")[K](/(^url\(#|\)$)/g,L));v&&v.parentNode.removeChild(v),Mt(h,{"clip-path":L}),delete t.clip}break;case"path":"path"==t.type&&Mt(h,{d:l?e.path=vt(l):"M0,0"});break;case"width":if(h[H](n,l),!e.fx)break;n="x",l=e.x;case"x":e.fx&&(l=-e.x-(e.width||0));case"rx":if("rx"==n&&"rect"==t.type)break;case"cx":s&&("x"==n||"cx"==n)&&(s[1]+=l-e[n]),h[H](n,l),t.pattern&&Rt(t);break;case"height":if(h[H](n,l),!e.fy)break;n="y",l=e.y;case"y":e.fy&&(l=-e.y-(e.height||0));case"ry":if("ry"==n&&"rect"==t.type)break;case"cy":s&&("y"==n||"cy"==n)&&(s[2]+=l-e[n]),h[H](n,l),t.pattern&&Rt(t);break;case"r":"rect"==t.type?Mt(h,{rx:l,ry:l}):h[H](n,l);break;case"src":"image"==t.type&&h.setAttributeNS(t.paper.xlink,"href",l);break;case"stroke-width":h.style.strokeWidth=l,h[H](n,l),e["stroke-dasharray"]&&i(t,e["stroke-dasharray"]);break;case"stroke-dasharray":i(t,l);break;case"translation":var y=G(l)[D](T);y[0]=+y[0]||0,y[1]=+y[1]||0,s&&(s[1]+=y[0],s[2]+=y[1]),ke.call(t,y[0],y[1]);break;case"scale":y=G(l)[D](T),t.scale(+y[0]||1,+y[1]||+y[0]||1,isNaN(W(y[2]))?null:+y[2],isNaN(W(y[3]))?null:+y[3]);break;case E:var g=G(l).match(R);if(g){p=Mt("pattern");var x=Mt("image");p.id=at(),Mt(p,{x:0,y:0,patternUnits:"userSpaceOnUse",height:1,width:1}),Mt(x,{x:0,y:0}),x.setAttributeNS(t.paper.xlink,"href",g[1]),p[C](x);var m=B.createElement("img");m.style.cssText="position:absolute;left:-9999em;top-9999em",m.onload=function(){Mt(p,{width:this.offsetWidth,height:this.offsetHeight}),Mt(x,{width:this.offsetWidth,height:this.offsetHeight}),B.body.removeChild(this),t.paper.safari()},B.body[C](m),m.src=g[1],t.paper.defs[C](p),h.style.fill="url(#"+p.id+")",Mt(h,{fill:"url(#"+p.id+")"}),t.pattern=p,t.pattern&&Rt(t);break}var b=N.getRGB(l);if(b.error){if(({circle:1,ellipse:1}[S](t.type)||"r"!=G(l).charAt())&&zt(h,l,t.paper)){e.gradient=l,e.fill="none";break}}else delete a.gradient,delete e.gradient,!N.is(e.opacity,"undefined")&&N.is(a.opacity,"undefined")&&Mt(h,{opacity:e.opacity}),!N.is(e["fill-opacity"],"undefined")&&N.is(a["fill-opacity"],"undefined")&&Mt(h,{"fill-opacity":e["fill-opacity"]});b[S]("opacity")&&Mt(h,{"fill-opacity":1<b.opacity?b.opacity/100:b.opacity});case"stroke":b=N.getRGB(l),h[H](n,b.hex),"stroke"==n&&b[S]("opacity")&&Mt(h,{"stroke-opacity":1<b.opacity?b.opacity/100:b.opacity});break;case"gradient":({circle:1,ellipse:1}[S](t.type)||"r"!=G(l).charAt())&&zt(h,l,t.paper);break;case"opacity":e.gradient&&!e[S]("stroke-opacity")&&Mt(h,{"stroke-opacity":1<l?l/100:l});case"fill-opacity":if(e.gradient){var k=B.getElementById(h.getAttribute(E)[K](/^url\(#|\)$/g,L));if(k){var w=k.getElementsByTagName("stop");w[w[O]-1][H]("stop-opacity",l)}break}default:"font-size"==n&&(l=F(l,10)+"px");var _=n[K](/(\-.)/g,function(t){return Z.call(t.substring(1))});h.style[_]=l,h[H](n,l)}}jt(t,a),s?t.rotate(s.join(j)):W(r)&&t.rotate(r,!0)},jt=function(t,e){if("text"==t.type&&(e[S]("text")||e[S]("font")||e[S]("font-size")||e[S]("x")||e[S]("y"))){var r=t.attrs,i=t.node,s=i.firstChild?F(B.defaultView.getComputedStyle(i.firstChild,L).getPropertyValue("font-size"),10):10;if(e[S]("text")){for(r.text=e.text;i.firstChild;)i.removeChild(i.firstChild);for(var n=G(e.text)[D]("\n"),a=0,o=n[O];a<o;a++)if(n[a]){var h=Mt("tspan");a&&Mt(h,{dy:1.2*s,x:r.x}),h[C](B.createTextNode(n[a])),i[C](h)}}else for(a=0,o=(n=i.getElementsByTagName("tspan"))[O];a<o;a++)a&&Mt(n[a],{dy:1.2*s,x:r.x});Mt(i,{y:r.y});var l=t.getBBox(),c=r.y-(l.y+l.height/2);c&&N.is(c,"finite")&&Mt(i,{y:r.y+c})}},qt=function(t,e){this[0]=t,this.id=N._oid++,((this.node=t).raphael=this).paper=e,this.attrs=this.attrs||{},this.transformations=[],this._={tx:0,ty:0,rt:{deg:0,cx:0,cy:0},sx:1,sy:1},!e.bottom&&(e.bottom=this),this.prev=e.top,e.top&&(e.top.next=this),(e.top=this).next=null},Vt=qt[h];qt[h].rotate=function(t,e,r){if(this.removed)return this;if(null==t)return this._.rt.cx?[this._.rt.deg,this._.rt.cx,this._.rt.cy][X](j):this._.rt.deg;var i=this.getBBox();return(t=G(t)[D](T))[O]-1&&(e=W(t[1]),r=W(t[2])),t=W(t[0]),null!=e&&!1!==e?this._.rt.deg=t:this._.rt.deg+=t,null==r&&(e=null),this._.rt.cx=e,this._.rt.cy=r,e=null==e?i.x+i.width/2:e,r=null==r?i.y+i.height/2:r,this._.rt.deg?(this.transformations[0]=N.format("rotate({0} {1} {2})",this._.rt.deg,e,r),this.clip&&Mt(this.clip,{transform:N.format("rotate({0} {1} {2})",-this._.rt.deg,e,r)})):(this.transformations[0]=L,this.clip&&Mt(this.clip,{transform:L})),Mt(this.node,{transform:this.transformations[X](j)}),this},qt[h].hide=function(){return!this.removed&&(this.node.style.display="none"),this},qt[h].show=function(){return!this.removed&&(this.node.style.display=""),this},qt[h].remove=function(){if(!this.removed){for(var t in Ct(this,this.paper),this.node.parentNode.removeChild(this.node),this)delete this[t];this.removed=!0}},qt[h].getBBox=function(){if(this.removed)return this;if("path"==this.type)return ut(this.attrs.path);if("none"==this.node.style.display){this.show();var t=!0}var e={};try{e=this.node.getBBox()}catch(t){}finally{e=e||{}}if("text"==this.type){e={x:e.x,y:1/0,width:0,height:0};for(var r=0,i=this.node.getNumberOfChars();r<i;r++){var s=this.node.getExtentOfChar(r);s.y<e.y&&(e.y=s.y),s.y+s.height-e.y>e.height&&(e.height=s.y+s.height-e.y),s.x+s.width-e.x>e.width&&(e.width=s.x+s.width-e.x)}}return t&&this.hide(),e},qt[h].attr=function(t,e){if(this.removed)return this;if(null==t){var r={};for(var i in this.attrs)this.attrs[S](i)&&(r[i]=this.attrs[i]);return this._.rt.deg&&(r.rotation=this.rotate()),(1!=this._.sx||1!=this._.sy)&&(r.scale=this.scale()),r.gradient&&"none"==r.fill&&(r.fill=r.gradient)&&delete r.gradient,r}if(null==e&&N.is(t,u))return"translation"==t?ke.call(this):"rotation"==t?this.rotate():"scale"==t?this.scale():t==E&&"none"==this.attrs.fill&&this.attrs.gradient?this.attrs.gradient:this.attrs[t];if(null==e&&N.is(t,g)){for(var s={},n=0,a=t.length;n<a;n++)s[t[n]]=this.attr(t[n]);return s}if(null!=e){var o={};o[t]=e}else null!=t&&N.is(t,"object")&&(o=t);for(var h in this.paper.customAttributes)if(this.paper.customAttributes[S](h)&&o[S](h)&&N.is(this.paper.customAttributes[h],"function")){var l=this.paper.customAttributes[h].apply(this,[][Y](o[h]));for(var c in this.attrs[h]=o[h],l)l[S](c)&&(o[c]=l[c])}return Lt(this,o),this},qt[h].toFront=function(){if(this.removed)return this;this.node.parentNode[C](this.node);var t=this.paper;return t.top!=this&&At(this,t),this},qt[h].toBack=function(){if(this.removed)return this;if(this.node.parentNode.firstChild!=this.node){this.node.parentNode.insertBefore(this.node,this.node.parentNode.firstChild),Nt(this,this.paper);this.paper}return this},qt[h].insertAfter=function(t){if(this.removed)return this;var e=t.node||t[t.length-1].node;return e.nextSibling?e.parentNode.insertBefore(this.node,e.nextSibling):e.parentNode[C](this.node),Tt(this,t,this.paper),this},qt[h].insertBefore=function(t){if(this.removed)return this;var e=t.node||t[0].node;return e.parentNode.insertBefore(this.node,e),St(this,t,this.paper),this},qt[h].blur=function(t){var e=this;if(0!=+t){var r=Mt("filter"),i=Mt("feGaussianBlur");e.attrs.blur=t,r.id=at(),Mt(i,{stdDeviation:+t||1.5}),r.appendChild(i),e.paper.defs.appendChild(r),e._blur=r,Mt(e.node,{filter:"url(#"+r.id+")"})}else e._blur&&(e._blur.parentNode.removeChild(e._blur),delete e._blur,delete e.attrs.blur),e.node.removeAttribute("filter")};var Ht=function(t,e,r,i){var s=Mt("circle");t.canvas&&t.canvas[C](s);var n=new qt(s,t);return n.attrs={cx:e,cy:r,r:i,fill:"none",stroke:"#000"},n.type="circle",Mt(s,n.attrs),n},Wt=function(t,e,r,i,s,n){var a=Mt("rect");t.canvas&&t.canvas[C](a);var o=new qt(a,t);return o.attrs={x:e,y:r,width:i,height:s,r:n||0,rx:n||0,ry:n||0,fill:"none",stroke:"#000"},o.type="rect",Mt(a,o.attrs),o},Ft=function(t,e,r,i,s){var n=Mt("ellipse");t.canvas&&t.canvas[C](n);var a=new qt(n,t);return a.attrs={cx:e,cy:r,rx:i,ry:s,fill:"none",stroke:"#000"},a.type="ellipse",Mt(n,a.attrs),a},Pt=function(t,e,r,i,s,n){var a=Mt("image");Mt(a,{x:r,y:i,width:s,height:n,preserveAspectRatio:"none"}),a.setAttributeNS(t.xlink,"href",e),t.canvas&&t.canvas[C](a);var o=new qt(a,t);return o.attrs={x:r,y:i,width:s,height:n,src:e},o.type="image",o},Yt=function(t,e,r,i){var s=Mt("text");Mt(s,{x:e,y:r,"text-anchor":"middle"}),t.canvas&&t.canvas[C](s);var n=new qt(s,t);return n.attrs={x:e,y:r,"text-anchor":"middle",text:i,font:Q.font,stroke:"none",fill:"#000"},n.type="text",Lt(n,n.attrs),n},Dt=function(t,e){return this.width=t||this.width,this.height=e||this.height,this.canvas[H]("width",this.width),this.canvas[H]("height",this.height),this},Xt=function(){var t=_t[y](0,arguments),e=t&&t.container,r=t.x,i=t.y,s=t.width,n=t.height;if(!e)throw new Error("SVG container not found.");var a=Mt("svg");return r=r||0,i=i||0,Mt(a,{xmlns:"http://www.w3.org/2000/svg",version:1.1,width:s=s||512,height:n=n||342}),1==e?(a.style.cssText="position:absolute;left:"+r+"px;top:"+i+"px",B.body[C](a)):e.firstChild?e.insertBefore(a,e.firstChild):e[C](a),(e=new l).width=s,e.height=n,e.canvas=a,Bt.call(e,e,N.fn),e.clear(),e};i.clear=function(){for(var t=this.canvas;t.firstChild;)t.removeChild(t.firstChild);this.bottom=this.top=null,(this.desc=Mt("desc"))[C](B.createTextNode("Created with Raphaël")),t[C](this.desc),t[C](this.defs=Mt("defs"))},i.remove=function(){for(var t in this.canvas.parentNode&&this.canvas.parentNode.removeChild(this.canvas),this)this[t]=Gt(t)}}if(N.vml){var Ot,It={M:"m",L:"l",C:"c",Z:"x",m:"t",l:"r",c:"v",z:"x"},$t=/([clmz]),?([^clmz]*)/gi,Ut=/ progid:\S+Blur\([^\)]+\)/g,Zt=/-?[^,\s-]+/g,Qt=1e3+j+1e3,Jt={path:1,rect:1};function Kt(t,e,r,i,s){return s?N.format("M{0},{1}l{2},0a{3},{3},0,0,1,{3},{3}l0,{5}a{3},{3},0,0,1,{4},{3}l{6},0a{3},{3},0,0,1,{4},{4}l0,{7}a{3},{3},0,0,1,{3},{4}z",t+s,e,r-2*s,s,-s,i-2*s,2*s-r,2*s-i):N.format("M{0},{1}l{2},0,0,{3},{4},0z",t,e,r,i,-r)}N[x]=function(){return"Your browser doesn’t support SVG. Falling down to VML.\nYou are running Raphaël "+this.version},Et=function(t,e){var r=Ot("group");r.style.cssText="position:absolute;left:0;top:0;width:"+e.width+"px;height:"+e.height+"px",r.coordsize=e.coordsize,r.coordorigin=e.coordorigin;var i=Ot("shape"),s=i.style;s.width=e.width+"px",s.height=e.height+"px",i.coordsize=Qt,i.coordorigin=e.coordorigin,r[C](i);var n=new qt(i,r,e),a={fill:"none",stroke:"#000"};return t&&(a.path=t),n.type="path",n.path=[],n.Path=L,Lt(n,a),e.canvas[C](r),n},Lt=function(t,e){t.attrs=t.attrs||{};var r,i=t.node,s=t.attrs,n=i.style,a=(e.x!=s.x||e.y!=s.y||e.width!=s.width||e.height!=s.height||e.r!=s.r)&&"rect"==t.type,o=t;for(var h in e)e[S](h)&&(s[h]=e[h]);if(a&&(s.path=Kt(s.x,s.y,s.width,s.height,s.r),t.X=s.x,t.Y=s.y,t.W=s.width,t.H=s.height),e.href&&(i.href=e.href),e.title&&(i.title=e.title),e.target&&(i.target=e.target),e.cursor&&(n.cursor=e.cursor),"blur"in e&&t.blur(e.blur),(e.path&&"path"==t.type||a)&&(i.path=function(t){var e=/[ahqstv]/gi,r=vt;if(G(t).match(e)&&(r=kt),e=/[clmz]/g,r==vt&&!G(t).match(e)){var i=G(t)[K]($t,function(t,e,r){var i=[],s="m"==A.call(e),n=It[e];return r[K](Zt,function(t){s&&2==i[O]&&(n+=i+It["m"==e?"l":"L"],i=[]),i[z](V(10*t))}),n+i});return i}var s,n,a=r(t);i=[];for(var o=0,h=a[O];o<h;o++){s=a[o],"z"==(n=A.call(a[o][0]))&&(n="x");for(var l=1,c=s[O];l<c;l++)n+=V(10*s[l])+(l!=c-1?",":L);i[z](n)}return i[X](j)}(s.path)),null!=e.rotation&&t.rotate(e.rotation,!0),e.translation&&(r=G(e.translation)[D](T),ke.call(t,r[0],r[1]),null!=t._.rt.cx&&(t._.rt.cx+=+r[0],t._.rt.cy+=+r[1],t.setBox(t.attrs,r[0],r[1]))),e.scale&&(r=G(e.scale)[D](T),t.scale(+r[0]||1,+r[1]||+r[0]||1,+r[2]||null,+r[3]||null)),"clip-rect"in e){var l=G(e["clip-rect"])[D](T);if(4==l[O]){l[2]=+l[2]+ +l[0],l[3]=+l[3]+ +l[1];var c=i.clipRect||B.createElement("div"),f=c.style,u=i.parentNode;f.clip=N.format("rect({1}px {2}px {3}px {0}px)",l),i.clipRect||(f.position="absolute",f.top=0,f.left=0,f.width=t.paper.width+"px",f.height=t.paper.height+"px",u.parentNode.insertBefore(c,u),c[C](u),i.clipRect=c)}e["clip-rect"]||i.clipRect&&(i.clipRect.style.clip=L)}if("image"==t.type&&e.src&&(i.src=e.src),"image"==t.type&&e.opacity&&(i.filterOpacity=P+".Alpha(opacity="+100*e.opacity+")",n.filter=(i.filterMatrix||L)+(i.filterOpacity||L)),e.font&&(n.font=e.font),e["font-family"]&&(n.fontFamily='"'+e["font-family"][D](",")[0][K](/^['"]+|['"]+$/g,L)+'"'),e["font-size"]&&(n.fontSize=e["font-size"]),e["font-weight"]&&(n.fontWeight=e["font-weight"]),e["font-style"]&&(n.fontStyle=e["font-style"]),null!=e.opacity||null!=e["stroke-width"]||null!=e.fill||null!=e.stroke||null!=e["stroke-width"]||null!=e["stroke-opacity"]||null!=e["fill-opacity"]||null!=e["stroke-dasharray"]||null!=e["stroke-miterlimit"]||null!=e["stroke-linejoin"]||null!=e["stroke-linecap"]){var p=(i=t.shape||i).getElementsByTagName(E)&&i.getElementsByTagName(E)[0],d=!1;if(!p&&(d=p=Ot(E)),"fill-opacity"in e||"opacity"in e){var v=((+s["fill-opacity"]+1||2)-1)*((+s.opacity+1||2)-1)*((+N.getRGB(e.fill).o+1||2)-1);v=_(w(v,0),1),p.opacity=v}if(e.fill&&(p.on=!0),null!=p.on&&"none"!=e.fill||(p.on=!1),p.on&&e.fill){var y=e.fill.match(R);y?(p.src=y[1],p.type="tile"):(p.color=N.getRGB(e.fill).hex,p.src=L,p.type="solid",N.getRGB(e.fill).error&&(o.type in{circle:1,ellipse:1}||"r"!=G(e.fill).charAt())&&zt(o,e.fill)&&(s.fill="none",s.gradient=e.fill))}d&&i[C](p);var g=i.getElementsByTagName("stroke")&&i.getElementsByTagName("stroke")[0],x=!1;!g&&(x=g=Ot("stroke")),(e.stroke&&"none"!=e.stroke||e["stroke-width"]||null!=e["stroke-opacity"]||e["stroke-dasharray"]||e["stroke-miterlimit"]||e["stroke-linejoin"]||e["stroke-linecap"])&&(g.on=!0),("none"==e.stroke||null==g.on||0==e.stroke||0==e["stroke-width"])&&(g.on=!1);var m=N.getRGB(e.stroke);g.on&&e.stroke&&(g.color=m.hex),v=((+s["stroke-opacity"]+1||2)-1)*((+s.opacity+1||2)-1)*((+m.o+1||2)-1);var b=.75*(W(e["stroke-width"])||1);if(v=_(w(v,0),1),null==e["stroke-width"]&&(b=s["stroke-width"]),e["stroke-width"]&&(g.weight=b),b&&b<1&&(v*=b)&&(g.weight=1),g.opacity=v,e["stroke-linejoin"]&&(g.joinstyle=e["stroke-linejoin"]||"miter"),g.miterlimit=e["stroke-miterlimit"]||8,e["stroke-linecap"]&&(g.endcap="butt"==e["stroke-linecap"]?"flat":"square"==e["stroke-linecap"]?"square":"round"),e["stroke-dasharray"]){var k={"-":"shortdash",".":"shortdot","-.":"shortdashdot","-..":"shortdashdotdot",". ":"dot","- ":"dash","--":"longdash","- .":"dashdot","--.":"longdashdot","--..":"longdashdotdot"};g.dashstyle=k[S](e["stroke-dasharray"])?k[e["stroke-dasharray"]]:L}x&&i[C](g)}if("text"==o.type)switch(n=o.paper.span.style,s.font&&(n.font=s.font),s["font-family"]&&(n.fontFamily=s["font-family"]),s["font-size"]&&(n.fontSize=s["font-size"]),s["font-weight"]&&(n.fontWeight=s["font-weight"]),s["font-style"]&&(n.fontStyle=s["font-style"]),o.node.string&&(o.paper.span.innerHTML=G(o.node.string)[K](/</g,"&#60;")[K](/&/g,"&#38;")[K](/\n/g,"<br>")),o.W=s.w=o.paper.span.offsetWidth,o.H=s.h=o.paper.span.offsetHeight,o.X=s.x,o.Y=s.y+V(o.H/2),s["text-anchor"]){case"start":o.node.style["v-text-align"]="left",o.bbx=V(o.W/2);break;case"end":o.node.style["v-text-align"]="right",o.bbx=-V(o.W/2);break;default:o.node.style["v-text-align"]="center"}},zt=function(t,e){t.attrs=t.attrs||{};t.attrs;var r,i="linear",s=".5 .5";if(t.attrs.gradient=e,e=(e=G(e)[K](rt,function(t,e,r){return i="radial",e&&r&&(e=W(e),r=W(r),.25<k(e-.5,2)+k(r-.5,2)&&(r=I.sqrt(.25-k(e-.5,2))*(2*(.5<r)-1)+.5),s=e+j+r),L}))[D](/\s*\-\s*/),"linear"==i){var n=e.shift();if(n=-W(n),isNaN(n))return null}var a=wt(e);if(!a)return null;if(!(r=(t=t.shape||t.node).getElementsByTagName(E)[0]||Ot(E)).parentNode&&t.appendChild(r),a[O]){r.on=!0,r.method="none",r.color=a[0].color,r.color2=a[a[O]-1].color;for(var o=[],h=0,l=a[O];h<l;h++)a[h].offset&&o[z](a[h].offset+j+a[h].color);r.colors&&(r.colors.value=o[O]?o[X]():"0% "+r.color),"radial"==i?(r.type="gradientradial",r.focus="100%",r.focussize=s,r.focusposition=s):(r.type="gradient",r.angle=(270-n)%360)}return 1},(Vt=(qt=function(t,e,r){this[0]=t,this.id=N._oid++,((this.node=t).raphael=this).X=0,this.Y=0,this.attrs={},this.Group=e,this.paper=r,this._={tx:0,ty:0,rt:{deg:0},sx:1,sy:1},!r.bottom&&(r.bottom=this),this.prev=r.top,r.top&&(r.top.next=this),(r.top=this).next=null})[h]).rotate=function(t,e,r){return this.removed?this:null==t?this._.rt.cx?[this._.rt.deg,this._.rt.cx,this._.rt.cy][X](j):this._.rt.deg:((t=G(t)[D](T))[O]-1&&(e=W(t[1]),r=W(t[2])),t=W(t[0]),null!=e?this._.rt.deg=t:this._.rt.deg+=t,null==r&&(e=null),this._.rt.cx=e,this._.rt.cy=r,this.setBox(this.attrs,e,r),this.Group.style.rotation=this._.rt.deg,this)},Vt.setBox=function(t,e,r){if(this.removed)return this;var i=this.Group.style,s=this.shape&&this.shape.style||this.node.style;for(var n in t=t||{})t[S](n)&&(this.attrs[n]=t[n]);e=e||this._.rt.cx,r=r||this._.rt.cy;var a,o,h,l,c=this.attrs;switch(this.type){case"circle":a=c.cx-c.r,o=c.cy-c.r,h=l=2*c.r;break;case"ellipse":a=c.cx-c.rx,o=c.cy-c.ry,h=2*c.rx,l=2*c.ry;break;case"image":a=+c.x,o=+c.y,h=c.width||0,l=c.height||0;break;case"text":this.textpath.v=["m",V(c.x),", ",V(c.y-2),"l",V(c.x)+1,", ",V(c.y-2)][X](L),a=c.x-V(this.W/2),o=c.y-this.H/2,h=this.W,l=this.H;break;case"rect":case"path":if(this.attrs.path){var f=ut(this.attrs.path);a=f.x,o=f.y,h=f.width,l=f.height}else o=a=0,h=this.paper.width,l=this.paper.height;break;default:o=a=0,h=this.paper.width,l=this.paper.height}r=null==r?o+l/2:r;var u,p=(e=null==e?a+h/2:e)-this.paper.width/2,d=r-this.paper.height/2;i.left!=(u=p+"px")&&(i.left=u),i.top!=(u=d+"px")&&(i.top=u),this.X=Jt[S](this.type)?-p:a,this.Y=Jt[S](this.type)?-d:o,this.W=h,this.H=l,Jt[S](this.type)?(s.left!=(u=10*-p+"px")&&(s.left=u),s.top!=(u=10*-d+"px")&&(s.top=u)):"text"==this.type?(s.left!=(u=-p+"px")&&(s.left=u),s.top!=(u=-d+"px")&&(s.top=u)):(i.width!=(u=this.paper.width+"px")&&(i.width=u),i.height!=(u=this.paper.height+"px")&&(i.height=u),s.left!=(u=a-p+"px")&&(s.left=u),s.top!=(u=o-d+"px")&&(s.top=u),s.width!=(u=h+"px")&&(s.width=u),s.height!=(u=l+"px")&&(s.height=u))},Vt.hide=function(){return!this.removed&&(this.Group.style.display="none"),this},Vt.show=function(){return!this.removed&&(this.Group.style.display="block"),this},Vt.getBBox=function(){return this.removed?this:Jt[S](this.type)?ut(this.attrs.path):{x:this.X+(this.bbx||0),y:this.Y,width:this.W,height:this.H}},Vt.remove=function(){if(!this.removed){for(var t in Ct(this,this.paper),this.node.parentNode.removeChild(this.node),this.Group.parentNode.removeChild(this.Group),this.shape&&this.shape.parentNode.removeChild(this.shape),this)delete this[t];this.removed=!0}},Vt.attr=function(t,e){if(this.removed)return this;if(null==t){var r={};for(var i in this.attrs)this.attrs[S](i)&&(r[i]=this.attrs[i]);return this._.rt.deg&&(r.rotation=this.rotate()),(1!=this._.sx||1!=this._.sy)&&(r.scale=this.scale()),r.gradient&&"none"==r.fill&&(r.fill=r.gradient)&&delete r.gradient,r}if(null==e&&N.is(t,"string"))return"translation"==t?ke.call(this):"rotation"==t?this.rotate():"scale"==t?this.scale():t==E&&"none"==this.attrs.fill&&this.attrs.gradient?this.attrs.gradient:this.attrs[t];if(this.attrs&&null==e&&N.is(t,g)){var s,n={};for(i=0,s=t[O];i<s;i++)n[t[i]]=this.attr(t[i]);return n}var a;if(null!=e&&((a={})[t]=e),null==e&&N.is(t,"object")&&(a=t),a){for(var o in this.paper.customAttributes)if(this.paper.customAttributes[S](o)&&a[S](o)&&N.is(this.paper.customAttributes[o],"function")){var h=this.paper.customAttributes[o].apply(this,[][Y](a[o]));for(var l in this.attrs[o]=a[o],h)h[S](l)&&(a[l]=h[l])}a.text&&"text"==this.type&&(this.node.string=a.text),Lt(this,a),a.gradient&&({circle:1,ellipse:1}[S](this.type)||"r"!=G(a.gradient).charAt())&&zt(this,a.gradient),(!Jt[S](this.type)||this._.rt.deg)&&this.setBox(this.attrs)}return this},Vt.toFront=function(){return!this.removed&&this.Group.parentNode[C](this.Group),this.paper.top!=this&&At(this,this.paper),this},Vt.toBack=function(){return this.removed||this.Group.parentNode.firstChild!=this.Group&&(this.Group.parentNode.insertBefore(this.Group,this.Group.parentNode.firstChild),Nt(this,this.paper)),this},Vt.insertAfter=function(t){return this.removed||(t.constructor==Be&&(t=t[t.length-1]),t.Group.nextSibling?t.Group.parentNode.insertBefore(this.Group,t.Group.nextSibling):t.Group.parentNode[C](this.Group),Tt(this,t,this.paper)),this},Vt.insertBefore=function(t){return this.removed||(t.constructor==Be&&(t=t[0]),t.Group.parentNode.insertBefore(this.Group,t.Group),St(this,t,this.paper)),this},Vt.blur=function(t){var e=this.node.runtimeStyle,r=e.filter;r=r.replace(Ut,L),0!=+t?(this.attrs.blur=t,e.filter=r+j+P+".Blur(pixelradius="+(+t||1.5)+")",e.margin=N.format("-{0}px 0 0 -{0}px",V(+t||1.5))):(e.filter=r,e.margin=0,delete this.attrs.blur)},Ht=function(t,e,r,i){var s=Ot("group"),n=Ot("oval");n.style;s.style.cssText="position:absolute;left:0;top:0;width:"+t.width+"px;height:"+t.height+"px",s.coordsize=Qt,s.coordorigin=t.coordorigin,s[C](n);var a=new qt(n,s,t);return a.type="circle",Lt(a,{stroke:"#000",fill:"none"}),a.attrs.cx=e,a.attrs.cy=r,a.attrs.r=i,a.setBox({x:e-i,y:r-i,width:2*i,height:2*i}),t.canvas[C](s),a},Wt=function(t,e,r,i,s,n){var a=Kt(e,r,i,s,n),o=t.path(a),h=o.attrs;return o.X=h.x=e,o.Y=h.y=r,o.W=h.width=i,o.H=h.height=s,h.r=n,h.path=a,o.type="rect",o},Ft=function(t,e,r,i,s){var n=Ot("group"),a=Ot("oval");a.style;n.style.cssText="position:absolute;left:0;top:0;width:"+t.width+"px;height:"+t.height+"px",n.coordsize=Qt,n.coordorigin=t.coordorigin,n[C](a);var o=new qt(a,n,t);return o.type="ellipse",Lt(o,{stroke:"#000"}),o.attrs.cx=e,o.attrs.cy=r,o.attrs.rx=i,o.attrs.ry=s,o.setBox({x:e-i,y:r-s,width:2*i,height:2*s}),t.canvas[C](n),o},Pt=function(t,e,r,i,s,n){var a=Ot("group"),o=Ot("image");a.style.cssText="position:absolute;left:0;top:0;width:"+t.width+"px;height:"+t.height+"px",a.coordsize=Qt,a.coordorigin=t.coordorigin,o.src=e,a[C](o);var h=new qt(o,a,t);return h.type="image",h.attrs.src=e,h.attrs.x=r,h.attrs.y=i,h.attrs.w=s,h.attrs.h=n,h.setBox({x:r,y:i,width:s,height:n}),t.canvas[C](a),h},Yt=function(t,e,r,i){var s=Ot("group"),n=Ot("shape"),a=n.style,o=Ot("path"),h=(o.style,Ot("textpath"));s.style.cssText="position:absolute;left:0;top:0;width:"+t.width+"px;height:"+t.height+"px",s.coordsize=Qt,s.coordorigin=t.coordorigin,o.v=N.format("m{0},{1}l{2},{1}",V(10*e),V(10*r),V(10*e)+1),o.textpathok=!0,a.width=t.width,a.height=t.height,h.string=G(i),h.on=!0,n[C](h),n[C](o),s[C](n);var l=new qt(h,s,t);return l.shape=n,l.textpath=o,l.type="text",l.attrs.text=i,l.attrs.x=e,l.attrs.y=r,l.attrs.w=1,l.attrs.h=1,Lt(l,{font:Q.font,stroke:"none",fill:"#000"}),l.setBox(),t.canvas[C](s),l},Dt=function(t,e){var r=this.canvas.style;return t==+t&&(t+="px"),e==+e&&(e+="px"),r.width=t,r.height=e,r.clip="rect(0 "+t+" "+e+" 0)",this},B.createStyleSheet().addRule(".rvml","behavior:url(#default#VML)");try{!B.namespaces.rvml&&B.namespaces.add("rvml","urn:schemas-microsoft-com:vml"),Ot=function(t){return B.createElement("<rvml:"+t+' class="rvml">')}}catch(t){Ot=function(t){return B.createElement("<"+t+' xmlns="urn:schemas-microsoft.com:vml" class="rvml">')}}Xt=function(){var t=_t[y](0,arguments),e=t.container,r=t.height,i=t.width,s=t.x,n=t.y;if(!e)throw new Error("VML container not found.");var a=new l,o=a.canvas=B.createElement("div"),h=o.style;return s=s||0,n=n||0,(i=i||512)==+i&&(i+="px"),(r=r||342)==+r&&(r+="px"),a.width=1e3,a.height=1e3,a.coordsize=1e4+j+1e4,a.coordorigin="0 0",a.span=B.createElement("span"),a.span.style.cssText="position:absolute;left:-9999em;top:-9999em;padding:0;margin:0;line-height:1;display:inline;",o[C](a.span),h.cssText=N.format("top:0;left:0;width:{0};height:{1};display:inline-block;position:relative;clip:rect(0 {0} {1} 0);overflow:hidden",i,r),1==e?(B.body[C](o),h.left=s+"px",h.top=n+"px",h.position="absolute"):e.firstChild?e.insertBefore(o,e.firstChild):e[C](o),Bt.call(a,a,N.fn),a},i.clear=function(){this.canvas.innerHTML=L,this.span=B.createElement("span"),this.span.style.cssText="position:absolute;left:-9999em;top:-9999em;padding:0;margin:0;line-height:1;display:inline;",this.canvas[C](this.span),this.bottom=this.top=null},i.remove=function(){for(var t in this.canvas.parentNode.removeChild(this.canvas),this)this[t]=Gt(t);return!0}}var te=navigator.userAgent.match(/Version\/(.*?)\s/);"Apple Computer, Inc."==navigator.vendor&&(te&&te[1]<4||"iP"==navigator.platform.slice(0,2))?i.safari=function(){var t=this.rect(-99,-99,this.width+99,this.height+99).attr({stroke:"none"});n.setTimeout(function(){t.remove()})}:i.safari=function(){};for(var ee=function(){this.returnValue=!1},re=function(){return this.originalEvent.preventDefault()},ie=function(){this.cancelBubble=!0},se=function(){return this.originalEvent.stopPropagation()},ne=B.addEventListener?function(s,n,a,o){var t=c&&f[n]?f[n]:n,e=function(t){if(c&&f[S](n))for(var e=0,r=t.targetTouches&&t.targetTouches.length;e<r;e++)if(t.targetTouches[e].target==s){var i=t;(t=t.targetTouches[e]).originalEvent=i,t.preventDefault=re,t.stopPropagation=se;break}return a.call(o,t)};return s.addEventListener(t,e,!1),function(){return s.removeEventListener(t,e,!1),!0}}:B.attachEvent?function(t,e,r,i){var s=function(t){return(t=t||n.event).preventDefault=t.preventDefault||ee,t.stopPropagation=t.stopPropagation||ie,r.call(i,t)};return t.attachEvent("on"+e,s),function(){return t.detachEvent("on"+e,s),!0}}:void 0,ae=[],oe=function(t){for(var e,r=t.clientX,i=t.clientY,s=B.documentElement.scrollTop||B.body.scrollTop,n=B.documentElement.scrollLeft||B.body.scrollLeft,a=ae.length;a--;){if(e=ae[a],c){for(var o,h=t.touches.length;h--;)if((o=t.touches[h]).identifier==e.el._drag.id){r=o.clientX,i=o.clientY,(t.originalEvent?t.originalEvent:t).preventDefault();break}}else t.preventDefault();r+=n,i+=s,e.move&&e.move.call(e.move_scope||e.el,r-e.el._drag.x,i-e.el._drag.y,r,i,t)}},he=function(t){N.unmousemove(oe).unmouseup(he);for(var e,r=ae.length;r--;)(e=ae[r]).el._drag={},e.end&&e.end.call(e.end_scope||e.start_scope||e.move_scope||e.el,t);ae=[]},le=e[O];le--;)!function(i){N[i]=qt[h][i]=function(t,e){return N.is(t,"function")&&(this.events=this.events||[],this.events.push({name:i,f:t,unbind:ne(this.shape||this.node||B,i,t,e||this)})),this},N["un"+i]=qt[h]["un"+i]=function(t){for(var e=this.events,r=e[O];r--;)if(e[r].name==i&&e[r].f==t)return e[r].unbind(),e.splice(r,1),!e.length&&delete this.events,this;return this}}(e[le]);function ce(){return this.x+j+this.y}Vt.hover=function(t,e,r,i){return this.mouseover(t,r).mouseout(e,i||r)},Vt.unhover=function(t,e){return this.unmouseover(t).unmouseout(e)},Vt.drag=function(i,s,n,a,o,h){return this._drag={},this.mousedown(function(t){(t.originalEvent||t).preventDefault();var e=B.documentElement.scrollTop||B.body.scrollTop,r=B.documentElement.scrollLeft||B.body.scrollLeft;this._drag.x=t.clientX+r,this._drag.y=t.clientY+e,this._drag.id=t.identifier,s&&s.call(o||a||this,t.clientX+r,t.clientY+e,t),!ae.length&&N.mousemove(oe).mouseup(he),ae.push({el:this,move:i,end:n,move_scope:a,start_scope:o,end_scope:h})}),this},Vt.undrag=function(t,e,r){for(var i=ae.length;i--;)ae[i].el==this&&ae[i].move==t&&ae[i].end==r&&ae.splice(i++,1);!ae.length&&N.unmousemove(oe).unmouseup(he)},i.circle=function(t,e,r){return Ht(this,t||0,e||0,r||0)},i.rect=function(t,e,r,i,s){return Wt(this,t||0,e||0,r||0,i||0,s||0)},i.ellipse=function(t,e,r,i){return Ft(this,t||0,e||0,r||0,i||0)},i.path=function(t){return t&&!N.is(t,u)&&!N.is(t[0],g)&&(t+=L),Et(N.format[y](N,arguments),this)},i.image=function(t,e,r,i,s){return Pt(this,t||"about:blank",e||0,r||0,i||0,s||0)},i.text=function(t,e,r){return Yt(this,t||0,e||0,G(r))},i.set=function(t){return 1<arguments[O]&&(t=Array[h].splice.call(arguments,0,arguments[O])),new Be(t)},i.setSize=Dt,i.top=i.bottom=null,i.raphael=N,Vt.resetScale=function(){if(this.removed)return this;this._.sx=1,this._.sy=1,this.attrs.scale="1 1"},Vt.scale=function(t,e,r,i){if(this.removed)return this;if(null==t&&null==e)return{x:this._.sx,y:this._.sy,toString:ce};!+(e=e||t)&&(e=t);var s,n,a=this.attrs;if(0!=t){var o=this.getBBox(),h=o.x+o.width/2,l=o.y+o.height/2,c=$(t/this._.sx),f=$(e/this._.sy);r=+r||0==r?r:h,i=+i||0==i?i:l;var u=0<this._.sx,p=0<this._.sy,d=~~(t/$(t)),v=~~(e/$(e)),y=c*d,g=f*v,x=this.node.style,m=r+$(h-r)*y*(r<h==u?1:-1),b=i+$(l-i)*g*(i<l==p?1:-1),k=e*v<t*d?f:c;switch(this.type){case"rect":case"image":var w=a.width*c,_=a.height*f;this.attr({height:_,r:a.r*k,width:w,x:m-w/2,y:b-_/2});break;case"circle":case"ellipse":this.attr({rx:a.rx*c,ry:a.ry*f,r:a.r*k,cx:m,cy:b});break;case"text":this.attr({x:m,y:b});break;case"path":for(var B=dt(a.path),C=!0,A=u?y:c,N=p?g:f,T=0,S=B[O];T<S;T++){var G=B[T],M=Z.call(G[0]);if("M"!=M||!C)if(C=!1,"A"==M)G[B[T][O]-2]*=A,G[B[T][O]-1]*=N,G[1]*=c,G[2]*=f,G[5]=+(d+v?!!+G[5]:!+G[5]);else if("H"==M)for(var E=1,z=G[O];E<z;E++)G[E]*=A;else if("V"==M)for(E=1,z=G[O];E<z;E++)G[E]*=N;else for(E=1,z=G[O];E<z;E++)G[E]*=E%2?A:N}var R=ut(B);s=m-R.x-R.width/2,n=b-R.y-R.height/2,B[0][1]+=s,B[0][2]+=n,this.attr({path:B})}this.type in{text:1,image:1}&&(1!=d||1!=v)?this.transformations?(this.transformations[2]="scale("[Y](d,",",v,")"),this.node[H]("transform",this.transformations[X](j)),s=-1==d?-a.x-(w||0):a.x,n=-1==v?-a.y-(_||0):a.y,this.attr({x:s,y:n}),a.fx=d-1,a.fy=v-1):(this.node.filterMatrix=P+".Matrix(M11="[Y](d,", M12=0, M21=0, M22=",v,", Dx=0, Dy=0, sizingmethod='auto expand', filtertype='bilinear')"),x.filter=(this.node.filterMatrix||L)+(this.node.filterOpacity||L)):this.transformations?(this.transformations[2]=L,this.node[H]("transform",this.transformations[X](j)),a.fx=0,a.fy=0):(this.node.filterMatrix=L,x.filter=(this.node.filterMatrix||L)+(this.node.filterOpacity||L)),a.scale=[t,e,r,i][X](j),this._.sx=t,this._.sy=e}return this},Vt.clone=function(){if(this.removed)return null;var t=this.attr();return delete t.scale,delete t.translation,this.paper[this.type]().attr(t)};var fe={},ue=function(t,e,r,i,s,n,a,o,h){var l,c,f=0,u=100,p=[t,e,r,i,s,n,a,o].join(),d=fe[p];(!d&&(fe[p]=d={data:[]}),d.timer&&clearTimeout(d.timer),d.timer=setTimeout(function(){delete fe[p]},2e3),null!=h)&&(u=10*~~ue(t,e,r,i,s,n,a,o));for(var v=0;v<u+1;v++){if(d.data[h]>v?c=d.data[v*u]:(c=N.findDotsAtSegment(t,e,r,i,s,n,a,o,v/u),d.data[v]=c),v&&(f+=k(k(l.x-c.x,2)+k(l.y-c.y,2),.5)),null!=h&&h<=f)return c;l=c}if(null==h)return f},pe=function(p,d){return function(t,e,r){for(var i,s,n,a,o,h="",l={},c=0,f=0,u=(t=kt(t)).length;f<u;f++){if("M"==(n=t[f])[0])i=+n[1],s=+n[2];else{if(e<c+(a=ue(i,s,n[1],n[2],n[3],n[4],n[5],n[6]))){if(d&&!l.start){if(h+=["C",(o=ue(i,s,n[1],n[2],n[3],n[4],n[5],n[6],e-c)).start.x,o.start.y,o.m.x,o.m.y,o.x,o.y],r)return h;l.start=h,h=["M",o.x,o.y+"C",o.n.x,o.n.y,o.end.x,o.end.y,n[5],n[6]][X](),c+=a,i=+n[5],s=+n[6];continue}if(!p&&!d)return{x:(o=ue(i,s,n[1],n[2],n[3],n[4],n[5],n[6],e-c)).x,y:o.y,alpha:o.alpha}}c+=a,i=+n[5],s=+n[6]}h+=n}return l.end=h,(o=p?c:d?l:N.findDotsAtSegment(i,s,n[1],n[2],n[3],n[4],n[5],n[6],1)).alpha&&(o={x:o.x,y:o.y,alpha:o.alpha}),o}},de=pe(1),ve=pe(),ye=pe(0,1);Vt.getTotalLength=function(){if("path"==this.type)return this.node.getTotalLength?this.node.getTotalLength():de(this.attrs.path)},Vt.getPointAtLength=function(t){if("path"==this.type)return ve(this.attrs.path,t)},Vt.getSubpath=function(t,e){if("path"==this.type){if($(this.getTotalLength()-e)<"1e-6")return ye(this.attrs.path,t).end;var r=ye(this.attrs.path,e,1);return t?ye(r,t).end:r}},N.easing_formulas={linear:function(t){return t},"<":function(t){return k(t,3)},">":function(t){return k(t-1,3)+1},"<>":function(t){return(t*=2)<1?k(t,3)/2:(k(t-=2,3)+2)/2},backIn:function(t){return t*t*(2.70158*t-1.70158)},backOut:function(t){return(t-=1)*t*(2.70158*t+1.70158)+1},elastic:function(t){if(0==t||1==t)return t;return k(2,-10*t)*I.sin(2*U*(t-.075)/.3)+1},bounce:function(t){var e=7.5625,r=2.75;return t<1/r?e*t*t:t<2/r?e*(t-=1.5/r)*t+.75:t<2.5/r?e*(t-=2.25/r)*t+.9375:e*(t-=2.625/r)*t+.984375}};var ge=[],xe=function(){for(var t=+new Date,e=0;e<ge[O];e++){var r=ge[e];if(!r.stop&&!r.el.removed){var i,s=t-r.start,n=r.ms,a=r.easing,o=r.from,h=r.diff,l=r.to,c=r.t,f=r.el,u={};if(s<n){var p=a(s/n);for(var d in o)if(o[S](d)){switch(J[d]){case"along":i=p*n*h[d],l.back&&(i=l.len-i);var v=ve(l[d],i);f.translate(h.sx-h.x||0,h.sy-h.y||0),h.x=v.x,h.y=v.y,f.translate(v.x-h.sx,v.y-h.sy),l.rot&&f.rotate(h.r+v.alpha,v.x,v.y);break;case M:i=+o[d]+p*n*h[d];break;case"colour":i="rgb("+[be(V(o[d].r+p*n*h[d].r)),be(V(o[d].g+p*n*h[d].g)),be(V(o[d].b+p*n*h[d].b))][X](",")+")";break;case"path":i=[];for(var y=0,g=o[d][O];y<g;y++){i[y]=[o[d][y][0]];for(var x=1,m=o[d][y][O];x<m;x++)i[y][x]=+o[d][y][x]+p*n*h[d][y][x];i[y]=i[y][X](j)}i=i[X](j);break;case"csv":switch(d){case"translation":var b=p*n*h[d][0]-c.x,k=p*n*h[d][1]-c.y;c.x+=b,c.y+=k,i=b+j+k;break;case"rotation":i=+o[d][0]+p*n*h[d][0],o[d][1]&&(i+=","+o[d][1]+","+o[d][2]);break;case"scale":i=[+o[d][0]+p*n*h[d][0],+o[d][1]+p*n*h[d][1],2 in l[d]?l[d][2]:L,3 in l[d]?l[d][3]:L][X](j);break;case"clip-rect":for(i=[],y=4;y--;)i[y]=+o[d][y]+p*n*h[d][y]}break;default:var w=[].concat(o[d]);for(i=[],y=f.paper.customAttributes[d].length;y--;)i[y]=+w[y]+p*n*h[d][y]}u[d]=i}f.attr(u),f._run&&f._run.call(f)}else l.along&&(v=ve(l.along,l.len*!l.back),f.translate(h.sx-(h.x||0)+v.x-h.sx,h.sy-(h.y||0)+v.y-h.sy),l.rot&&f.rotate(h.r+v.alpha,v.x,v.y)),(c.x||c.y)&&f.translate(-c.x,-c.y),l.scale&&(l.scale+=L),f.attr(l),ge.splice(e--,1)}}N.svg&&f&&f.paper&&f.paper.safari(),ge[O]&&setTimeout(xe)},me=function(t,e,r,i,s){var n=r-i;e.timeouts.push(setTimeout(function(){N.is(s,"function")&&s.call(e),e.animate(t,n,t.easing)},i))},be=function(t){return w(_(t,255),0)},ke=function(t,e){if(null==t)return{x:this._.tx,y:this._.ty,toString:ce};switch(this._.tx+=+t,this._.ty+=+e,this.type){case"circle":case"ellipse":this.attr({cx:+t+this.attrs.cx,cy:+e+this.attrs.cy});break;case"rect":case"image":case"text":this.attr({x:+t+this.attrs.x,y:+e+this.attrs.y});break;case"path":var r=dt(this.attrs.path);r[0][1]+=+t,r[0][2]+=+e,this.attr({path:r})}return this};function we(n){return function(t,e,r,i){var s={back:n};return N.is(r,"function")?i=r:s.rot=r,t&&t.constructor==qt&&(t=t.attrs.path),t&&(s.along=t),this.animate(s,e,i)}}function _e(t,e,r,i,s,n){var a,h=3*e,l=3*(i-e)-h,c=1-h-l,o=3*r,f=3*(s-r)-o,u=1-o-f;function p(t){return((c*t+l)*t+h)*t}return a=function(t,e){var r,i,s,n,a,o;for(s=t,o=0;o<8;o++){if(n=p(s)-t,$(n)<e)return s;if($(a=(3*c*s+2*l)*s+h)<1e-6)break;s-=n/a}if(i=1,(s=t)<(r=0))return r;if(i<s)return i;for(;r<i;){if(n=p(s),$(n-t)<e)return s;n<t?r=s:i=s,s=(i-r)/2+r}return s}(t,1/(200*n)),((u*a+f)*a+o)*a}Vt.animateWith=function(t,e,r,i,s){for(var n=0,a=ge.length;n<a;n++)ge[n].el.id==t.id&&(e.start=ge[n].start);return this.animate(e,r,i,s)},Vt.animateAlong=we(),Vt.animateAlongBack=we(1),Vt.onAnimation=function(t){return this._run=t||0,this},Vt.animate=function(t,e,r,i){var s=this;if(s.timeouts=s.timeouts||[],!N.is(r,"function")&&r||(i=r||null),s.removed)return i&&i.call(s),s;var n={},a={},o=!1,h={};for(var l in t)if(t[S](l)&&(J[S](l)||s.paper.customAttributes[S](l)))switch(o=!0,n[l]=s.attr(l),null==n[l]&&(n[l]=Q[l]),a[l]=t[l],J[l]){case"along":var c=de(t[l]),f=ve(t[l],c*!!t.back),u=s.getBBox();h[l]=c/e,h.tx=u.x,h.ty=u.y,h.sx=f.x,h.sy=f.y,a.rot=t.rot,a.back=t.back,a.len=c,t.rot&&(h.r=W(s.rotate())||0);break;case M:h[l]=(a[l]-n[l])/e;break;case"colour":n[l]=N.getRGB(n[l]);var p=N.getRGB(a[l]);h[l]={r:(p.r-n[l].r)/e,g:(p.g-n[l].g)/e,b:(p.b-n[l].b)/e};break;case"path":var d=kt(n[l],a[l]);n[l]=d[0];var v=d[1];h[l]=[];for(var y=0,g=n[l][O];y<g;y++){h[l][y]=[0];for(var x=1,m=n[l][y][O];x<m;x++)h[l][y][x]=(v[y][x]-n[l][y][x])/e}break;case"csv":var b=G(t[l])[D](T),k=G(n[l])[D](T);switch(l){case"translation":n[l]=[0,0],h[l]=[b[0]/e,b[1]/e];break;case"rotation":n[l]=k[1]==b[1]&&k[2]==b[2]?k:[0,b[1],b[2]],h[l]=[(b[0]-n[l][0])/e,0,0];break;case"scale":t[l]=b,n[l]=G(n[l])[D](T),h[l]=[(b[0]-n[l][0])/e,(b[1]-n[l][1])/e,0,0];break;case"clip-rect":for(n[l]=G(n[l])[D](T),h[l]=[],y=4;y--;)h[l][y]=(b[y]-n[l][y])/e}a[l]=b;break;default:for(b=[].concat(t[l]),k=[].concat(n[l]),h[l]=[],y=s.paper.customAttributes[l][O];y--;)h[l][y]=((b[y]||0)-(k[y]||0))/e}if(o){var w=N.easing_formulas[r];if(!w)if((w=G(r).match(q))&&5==w[O]){var _=w;w=function(t){return _e(t,+_[1],+_[2],+_[3],+_[4],e)}}else w=function(t){return t};ge.push({start:t.start||+new Date,ms:e,easing:w,from:n,diff:h,to:a,el:s,t:{x:0,y:0}}),N.is(i,"function")&&(s._ac=setTimeout(function(){i.call(s)},e)),1==ge[O]&&setTimeout(xe)}else{var B,C=[];for(var A in t)t[S](A)&&tt.test(A)&&(l={value:t[A]},"from"==A&&(A=0),"to"==A&&(A=100),l.key=F(A,10),C.push(l));for(C.sort(it),C[0].key&&C.unshift({key:0,value:s.attrs}),y=0,g=C[O];y<g;y++)me(C[y].value,s,e/100*C[y].key,e/100*(C[y-1]&&C[y-1].key||0),C[y-1]&&C[y-1].value.callback);(B=C[C[O]-1].value.callback)&&s.timeouts.push(setTimeout(function(){B.call(s)},e))}return this},Vt.stop=function(){for(var t=0;t<ge.length;t++)ge[t].el.id==this.id&&ge.splice(t--,1);for(t=0,ii=this.timeouts&&this.timeouts.length;t<ii;t++)clearTimeout(this.timeouts[t]);return this.timeouts=[],clearTimeout(this._ac),delete this._ac,this},Vt.translate=function(t,e){return this.attr({translation:t+" "+e})},Vt[x]=function(){return"Raphaël’s object"},N.ae=ge;var Be=function(t){if(this.items=[],this[O]=0,this.type="set",t)for(var e=0,r=t[O];e<r;e++)!t[e]||t[e].constructor!=qt&&t[e].constructor!=Be||(this[this.items[O]]=this.items[this.items[O]]=t[e],this[O]++)};for(var Ce in Be[h][z]=function(){for(var t,e,r=0,i=arguments[O];r<i;r++)!(t=arguments[r])||t.constructor!=qt&&t.constructor!=Be||(this[e=this.items[O]]=this.items[e]=t,this[O]++);return this},Be[h].pop=function(){return delete this[this[O]--],this.items.pop()},Vt)Vt[S](Ce)&&(Be[h][Ce]=function(r){return function(){for(var t=0,e=this.items[O];t<e;t++)this.items[t][r][y](this.items[t],arguments);return this}}(Ce));Be[h].attr=function(t,e){if(t&&N.is(t,g)&&N.is(t[0],"object"))for(var r=0,i=t[O];r<i;r++)this.items[r].attr(t[r]);else for(var s=0,n=this.items[O];s<n;s++)this.items[s].attr(t,e);return this},Be[h].animate=function(t,e,r,i){(N.is(r,"function")||!r)&&(i=r||null);var s,n,a=this.items[O],o=a,h=this;for(i&&(n=function(){!--a&&i.call(h)}),r=N.is(r,u)?r:n,s=this.items[--o].animate(t,e,r,n);o--;)this.items[o]&&!this.items[o].removed&&this.items[o].animateWith(s,t,e,r,n);return this},Be[h].insertAfter=function(t){for(var e=this.items[O];e--;)this.items[e].insertAfter(t);return this},Be[h].getBBox=function(){for(var t=[],e=[],r=[],i=[],s=this.items[O];s--;){var n=this.items[s].getBBox();t[z](n.x),e[z](n.y),r[z](n.x+n.width),i[z](n.y+n.height)}return{x:t=_[y](0,t),y:e=_[y](0,e),width:w[y](0,r)-t,height:w[y](0,i)-e}},Be[h].clone=function(t){t=new Be;for(var e=0,r=this.items[O];e<r;e++)t[z](this.items[e].clone());return t},N.registerFont=function(t){if(!t.face)return t;this.fonts=this.fonts||{};var e={w:t.w,face:{},glyphs:{}},r=t.face["font-family"];for(var i in t.face)t.face[S](i)&&(e.face[i]=t.face[i]);if(this.fonts[r]?this.fonts[r][z](e):this.fonts[r]=[e],!t.svg)for(var s in e.face["units-per-em"]=F(t.face["units-per-em"],10),t.glyphs)if(t.glyphs[S](s)){var n=t.glyphs[s];if(e.glyphs[s]={w:n.w,k:{},d:n.d&&"M"+n.d[K](/[mlcxtrv]/g,function(t){return{l:"L",c:"C",x:"z",t:"m",r:"l",v:"c"}[t]||"M"})+"z"},n.k)for(var a in n.k)n[S](a)&&(e.glyphs[s].k[a]=n.k[a])}return t},i.getFont=function(t,e,r,i){if(i=i||"normal",r=r||"normal",e=+e||{normal:400,bold:700,lighter:300,bolder:800}[e]||400,N.fonts){var s,n=N.fonts[t];if(!n){var a=new RegExp("(^|\\s)"+t[K](/[^\w\d\s+!~.:_-]/g,L)+"(\\s|$)","i");for(var o in N.fonts)if(N.fonts[S](o)&&a.test(o)){n=N.fonts[o];break}}if(n)for(var h=0,l=n[O];h<l&&((s=n[h]).face["font-weight"]!=e||s.face["font-style"]!=r&&s.face["font-style"]||s.face["font-stretch"]!=i);h++);return s}},i.print=function(t,e,r,i,s,n,a){n=n||"middle",a=w(_(a||0,1),-1);var o,h=this.set(),l=G(r)[D](L),c=0;if(N.is(i,r)&&(i=this.getFont(i)),i){o=(s||16)/i.face["units-per-em"];for(var f=i.face.bbox.split(T),u=+f[0],p=+f[1]+("baseline"==n?f[3]-f[1]+ +i.face.descent:(f[3]-f[1])/2),d=0,v=l[O];d<v;d++){var y=d&&i.glyphs[l[d-1]]||{},g=i.glyphs[l[d]];c+=d?(y.w||i.w)+(y.k&&y.k[l[d]]||0)+i.w*a:0,g&&g.d&&h[z](this.path(g.d).attr({fill:"#000",stroke:"none",translation:[c,0]}))}h.scale(o,o,u,p).translate(t-u,e-p)}return h},N.format=function(t,e){var r=N.is(e,g)?[0][Y](e):arguments;return t&&N.is(t,u)&&r[O]-1&&(t=t[K](s,function(t,e){return null==r[++e]?L:r[e]})),t||L},N.ninja=function(){return t.was?n.Raphael=t.is:delete Raphael,N},N.el=Vt,N.st=Be[h],t.was?n.Raphael=N:Raphael=N}();